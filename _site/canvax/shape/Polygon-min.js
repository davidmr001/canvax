define("canvax/shape/Polygon",["canvax/display/Shape","canvax/core/Base"],function(a,b){var c=function(a){var c=this;c.type="polygon",c._hasFillAndStroke=!0,a=b.checkOpt(a),c._context={lineType:a.context.lineType||null,pointList:a.context.pointList||[]},arguments.callee.superclass.constructor.apply(this,arguments)};return b.creatClass(c,a,{draw:function(a,b){return a.save(),a.beginPath(),this.buildPath(a,b),a.closePath(),(b.strokeStyle||b.lineWidth)&&a.stroke(),b.fillStyle&&(("dashed"==b.lineType||"dotted"==b.lineType)&&(a.beginPath(),this.buildPath(a,{lineType:"solid",lineWidth:b.lineWidth,pointList:b.pointList}),a.closePath()),a.fill()),a.restore(),!0},buildPath:function(a,b){var c=b.pointList,d=c[0],e=c[c.length-1];if(d&&e&&d[0]==e[0]&&d[1]==e[1]&&c.pop(),!(c.length<2))if(b.lineType&&"solid"!=b.lineType){if("dashed"==b.lineType||"dotted"==b.lineType){var f=(b.lineWidth||1)*("dashed"==b.lineType?5:1);a.moveTo(c[0][0],c[0][1]);for(var g=1,h=c.length;h>g;g++)this.dashedLineTo(a,c[g-1][0],c[g-1][1],c[g][0],c[g][1],f);this.dashedLineTo(a,c[c.length-1][0],c[c.length-1][1],c[0][0],c[0][1],f)}}else{a.moveTo(c[0][0],c[0][1]);for(var g=1,h=c.length;h>g;g++)a.lineTo(c[g][0],c[g][1]);a.lineTo(c[0][0],c[0][1])}},getRect:function(a){var a=a?a:this.context;return this.getRectFormPointList(a)}}),c});